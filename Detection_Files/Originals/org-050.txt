In this paper, we have proposed a new algorithm to train neural network, called Class-Constrained Extreme Learning Machine ((CELM)-E-2), which is based on Extreme Learning Machine (ELM). In (CELM)-E-2, we use class information to constrain different parts of connection weights between input layer and hidden layer using Extreme Learning Machine Auto Encoder (ELM-AE). In this way, we add class information to the connection weights and make the features in the hidden layer which are learned from input space be more discriminative than other methods based on ELM. Meanwhile, (CELM)-E-2 can retain the advantages of ELM. The experiments shown that (CELM)-E-2 is effective and efficient and can achieve a higher performance in contrast to other ELM based methods.